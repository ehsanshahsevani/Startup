<input
    id="@Id"
    type="@_type"
    class="@Class"
    disabled="@Disabled"
    placeholder="@Placeholder"
    value="@Value"
    @oninput="OnValueChanged"
    @onkeyup="OnKeyPress"/>

@code {
    private string _type = "text";

    [Parameter] public string? Class { get; set; } = "form-control";

    [Parameter] public string? Id { get; set; }

    [Parameter] public string? Placeholder { get; set; }

    [Parameter] public bool Disabled { get; set; }

    private string? value;

    [Parameter] public EventCallback OnEntered { get; set; }
    
    [Parameter]
    public string? Value { get; set; }

    [Parameter]
    public EventCallback<string?> ValueChanged { get; set; }
    
    private async Task OnValueChanged(ChangeEventArgs e)
    {
        value = e?.Value?.ToString();

        await ValueChanged.InvokeAsync(value);
    }
    
    private async Task OnKeyPress(KeyboardEventArgs args)
    {
        if (args.Key == "Enter")
        {
            await OnEntered.InvokeAsync();
        }
    }
}